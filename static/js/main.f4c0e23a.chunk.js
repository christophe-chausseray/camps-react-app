(this["webpackJsonpcamps-react-app"]=this["webpackJsonpcamps-react-app"]||[]).push([[0],{100:function(n,e,t){"use strict";t.r(e);var i=t(3),r=t(2),c=t.n(r),a=t(24),o=t.n(a),u=t(23),s=t(6),l=t(7);function d(){var n=Object(s.a)(["\n  text-align: center;\n  font-size: 30px;\n  font-family: 'Satisfy', cursive;\n  color: #ffffff;\n"]);return d=function(){return n},n}function b(){var n=Object(s.a)(["\n  width: 100%;\n  height: 90px;\n  position: relative;\n  background-color: #2f7510;\n  border-bottom: 1px solid #ffffff;\n"]);return b=function(){return n},n}var p=l.b.div(b()),j=l.b.h1(d());function f(){return Object(i.jsx)(p,{children:Object(i.jsx)(j,{children:"Le bon camping"})})}var h=t(81);function x(){var n=Object(s.a)(["\n  query ListCampingItems {\n    campings {\n      id\n      name\n      location {\n        longitude\n        latitude\n      }\n    }\n  }\n"]);return x=function(){return n},n}var m=Object(u.gql)(x());var O=t(13),g=t(79),v=t(80),w=t.n(v),y=t(57),I=t(46),C=function(n){var e=n.title,t=n.size,r=void 0===t?24:t,c=n.color,a=void 0===c?"currentColor":c,o=Object(I.a)(n,["title","size","color"]);return Object(i.jsxs)("svg",Object(y.a)(Object(y.a)({viewBox:"0 0 24 24",width:r,height:r},o),{},{children:[e&&Object(i.jsx)("title",{children:e}),Object(i.jsx)("g",{fillRule:"nonzero",stroke:a,fill:"none",strokeLinecap:"round",children:Object(i.jsx)("path",{d:"M4 4l16 16M20 4L4 20"})})]}))},k=function(n){n.title;var e=n.size,t=void 0===e?24:e,r=n.color,c=void 0===r?"currentColor":r;Object(I.a)(n,["title","size","color"]);return Object(i.jsx)("svg",{role:"img","aria-label":"StarIcon",height:t,width:t,children:Object(i.jsx)("polygon",{fill:c,points:"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78"})})};function E(){var n=Object(s.a)(["\n  padding: 0 10px;\n"]);return E=function(){return n},n}function S(){var n=Object(s.a)(["\n  display: inline-block;\n  position: relative;\n  list-style: none;\n  padding: 16px 0px;\n  cursor: pointer;\n  width: 49%;\n  text-align: center;\n  color: #dbdbdb;\n\n  &:hover {\n    color: white;\n  }\n\n  ","\n"]);return S=function(){return n},n}function A(){var n=Object(s.a)(["\n  margin: 0 0 10px;\n  padding: 0;\n  background-color: #2f7510;\n"]);return A=function(){return n},n}function L(){var n=Object(s.a)(["\n  border: #2f7510 2px solid;\n  margin: 10px;\n  box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.55);\n"]);return L=function(){return n},n}var z=l.b.div(L()),M=l.b.ul(A()),_=l.b.li(S(),(function(n){if(n.isSelected)return"\n        border-bottom: white 4px solid;\n        color: white;\n      "})),P=l.b.div(E());function T(n){var e=n.children,t=c.a.useState(0),r=Object(O.a)(t,2),a=r[0],o=r[1];return Object(i.jsxs)(z,{children:[Object(i.jsx)(M,{children:e.map((function(n,e){return Object(i.jsx)(_,{"aria-selected":e===a?"true":"false",onClick:function(){o(e)},isSelected:e===a,children:n.props.title},e)}))}),e.map((function(n,e){return e===a?n:null}))]})}function q(n){var e=n.children;return Object(i.jsx)(P,{children:e})}function N(){var n=Object(s.a)(["\n  background-color: #444;\n  border-radius: 20px;\n  opacity: .1;\n  animation: ",";\n"]);return N=function(){return n},n}function R(){var n=Object(s.a)(["\n  "," 1.5s infinite;\n"]);return R=function(){return n},n}function U(){var n=Object(s.a)(["\n  0% {\n    opacity: .1;\n  }\n\n  50% {\n    opacity: .2;\n  }\n\n  100% {\n    opacity: .1;\n  }\n"]);return U=function(){return n},n}var D=Object(l.c)(U()),W=Object(l.a)(R(),D),B=l.b.div(N(),W),G=function(n){var e=c.a.useState(void 0),t=Object(O.a)(e,2),i=t[0],r=t[1];return c.a.useEffect((function(){var e,t=setTimeout((function(){r(void 0)}),300);return(e=n,new Promise((function(n){var t=new Image;t.onload=function(){n()},t.src=e}))).then((function(){clearTimeout(t),r(n)})),function(){return clearTimeout(t)}}),[n]),i};function H(){var n=Object(s.a)(["\n  width: 220px;\n  border-radius: 10px;\n  box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.55);\n"]);return H=function(){return n},n}function V(){var n=Object(s.a)(["\n  min-width: 220px;\n  min-height: 152px;\n  margin: 25px 10px 0 10px;\n"]);return V=function(){return n},n}var $=Object(l.b)(B)(V()),F=l.b.img(H()),J=c.a.memo((function(n){var e=n.src,t=n.alt;return void 0===G(e)?Object(i.jsx)($,{}):Object(i.jsx)(F,{src:e,alt:t})}));t(69);function Q(){var n=Object(s.a)(["\n  query DetailCampingItem($campingId: ID!) {\n    camping(id: $campingId) {\n      id\n      name\n      description\n      image\n      address\n      zipcode\n      city\n      nb_spots\n      nb_stars\n      phone_number\n      email\n      website\n      location {\n        longitude\n        latitude\n      }\n    }\n  }\n"]);return Q=function(){return n},n}var K=Object(u.gql)(Q());function X(n){var e=Object(u.useLazyQuery)(K,{fetchPolicy:"network-only"}),t=Object(O.a)(e,2),i=t[0],r=t[1],a=r.called,o=r.loading,s=r.data,l=c.a.useCallback((function(){null!==n&&i({variables:{campingId:n}})}),[n,i]);return c.a.useEffect((function(){l()}),[n,l]),!a||o?{campingItem:null,loading:o}:{campingItem:s.camping,loading:o}}var Y={isExpanded:!1,updateIsExpanded:function(){},campingId:null,updateCampingId:function(){}},Z=c.a.createContext(Y);function nn(n){var e=n.children,t=function(){var n=c.a.useState(!1),e=Object(O.a)(n,2),t=e[0],i=e[1],r=c.a.useState(null),a=Object(O.a)(r,2),o=a[0],u=a[1];return{isExpanded:t,updateIsExpanded:c.a.useCallback((function(n){i(n)}),[]),campingId:o,updateCampingId:c.a.useCallback((function(n){u(n)}),[])}}();return Object(i.jsx)(Z.Provider,{value:t,children:e})}function en(){var n=Object(s.a)(["\n  min-width: 250px;\n  min-height: 30px;\n"]);return en=function(){return n},n}function tn(){var n=Object(s.a)(["\n  min-width: 250px;\n  min-height: 45px;\n  margin: 10px 0;\n"]);return tn=function(){return n},n}function rn(){var n=Object(s.a)(["\n  background-color: white;\n  border: none;\n  float: right;\n  margin-right: 10px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return rn=function(){return n},n}function cn(){var n=Object(s.a)(["\n  width: 250px;\n"]);return cn=function(){return n},n}function an(){var n=Object(s.a)(["\n  font-size: 20px;\n"]);return an=function(){return n},n}function on(){var n=Object(s.a)(["\n  width: 250px;\n  margin-top: 40px;\n  text-align: center;\n"]);return on=function(){return n},n}function un(){var n=Object(s.a)(["\n  display: flex;\n  margin-top: 10px;\n  padding-bottom: 20px;\n  border-bottom: #2f7510 2px solid;\n  min-height: 170px;\n"]);return un=function(){return n},n}var sn=l.b.header(un()),ln=l.b.div(on()),dn=l.b.h2(an()),bn=l.b.div(cn()),pn=l.b.button(rn()),jn=Object(l.b)(B)(tn()),fn=Object(l.b)(B)(en());function hn(){var n=c.a.useContext(Z),e=n.updateIsExpanded,t=X(n.campingId),r=t.campingItem,a=t.loading;return null===r||a?Object(i.jsxs)(sn,{children:[Object(i.jsxs)(ln,{children:[Object(i.jsx)(jn,{}),Object(i.jsx)(fn,{})]}),Object(i.jsxs)(bn,{children:[Object(i.jsx)(pn,{"aria-label":"Close",children:Object(i.jsx)(C,{title:"Close",size:20})}),Object(i.jsx)($,{})]})]}):Object(i.jsxs)(sn,{children:[Object(i.jsxs)(ln,{children:[Object(i.jsx)(dn,{children:r.name}),null!==r.nb_stars&&function(n){for(var e=[],t=0;t<n;t++)e.push(Object(i.jsx)(k,{size:24,color:"#ffd055"},t));return e}(r.nb_stars)]}),Object(i.jsxs)(bn,{children:[Object(i.jsx)(pn,{"aria-label":"Close",onClick:function(){return e(!1)},children:Object(i.jsx)(C,{title:"Close",size:20})}),Object(i.jsx)(J,{src:r.image,alt:r.name})]})]})}function xn(){var n=Object(s.a)(["\n  min-width: 250px;\n  min-height: 45px;\n  margin-bottom: 15px;\n"]);return xn=function(){return n},n}function mn(){var n=Object(s.a)(["\n  min-width: 250px;\n  min-height: 45px;\n"]);return mn=function(){return n},n}function On(){var n=Object(s.a)(["\n  min-width: 250px;\n  min-height: 87px;\n"]);return On=function(){return n},n}function gn(){var n=Object(s.a)(["\n  border-bottom: #2f7510 1px solid;\n  padding-bottom: 10px;\n  color: #2f7510;\n"]);return gn=function(){return n},n}var vn=l.b.h3(gn()),wn=Object(l.b)(B)(On()),yn=Object(l.b)(B)(mn()),In=Object(l.b)(B)(xn());function Cn(){var n=X(c.a.useContext(Z).campingId),e=n.campingItem,t=n.loading;return null===e||t?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Description"}),Object(i.jsx)(wn,{})]}),Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Address"}),Object(i.jsx)(yn,{})]}),Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Contact"}),Object(i.jsx)(In,{})]})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Description"}),null!==e.description&&Object(i.jsx)("p",{children:e.description}),null!==e.nb_spots&&Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Capacity: "})," ",e.nb_spots," spots"]})]}),Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Address"}),null!==e.address&&Object(i.jsx)("p",{children:e.address}),Object(i.jsxs)("p",{children:[e.zipcode," ",e.city]})]}),Object(i.jsxs)("section",{children:[Object(i.jsx)(vn,{children:"Contact"}),null!==e.phone_number&&Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Phone number: "})," ",e.phone_number]}),null!==e.email&&Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Email: "})," ",e.email]}),null!==e.website&&Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Website:"})," ",Object(i.jsx)("a",{href:e.website,title:e.name,children:e.website})]})]})]})}function kn(){var n=Object(s.a)(["\n  max-height: 60vh;\n  width: 500px;\n  padding-top: 20px;\n  overflow-y: scroll;\n"]);return kn=function(){return n},n}var En=l.b.div(kn());function Sn(){return Object(i.jsx)(En,{children:Object(i.jsxs)(T,{children:[Object(i.jsx)(q,{title:"Detail",children:Object(i.jsx)(Cn,{})}),Object(i.jsx)(q,{title:"Comment",children:Object(i.jsx)("h2",{children:"Comment"})})]})})}function An(){var n=Object(s.a)(["\n  ","\n  transition: width 0.3s ease-in-out;\n"]);return An=function(){return n},n}var Ln=l.b.aside(An(),(function(n){return n.isExpanded?"\n        width: 500px;\n      ":"\n        width: 0px;\n        overflow: hidden;\n      "})),zn=function(){var n=c.a.useContext(Z),e=n.isExpanded;return null===n.campingId?null:Object(i.jsxs)(Ln,{"aria-label":"Sidebar","aria-expanded":e,isExpanded:e,children:[Object(i.jsx)(hn,{}),Object(i.jsx)(Sn,{})]})};function Mn(){var n=Object(s.a)(['\n  position: absolute;\n  bottom: 5px;\n  left: -20px;\n  width: 80px;\n  z-index: 1000000;\n  background-color: #3986ac;\n  padding: 10px;\n  border-radius: 5px;\n  box-shadow: 2px 2px 12px rgba(0,0,0,.5);\n  color: #ffff;\n  font-family: ui-sans-serif;\n  &:after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -15px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: #3986ac transparent transparent transparent;\n  }\n']);return Mn=function(){return n},n}function _n(){var n=Object(s.a)(["\n  display: block;\n"]);return _n=function(){return n},n}var Pn=l.b.li(_n()),Tn=l.b.div(Mn());function qn(n){var e=n.id,t=n.name,r=(n.lng,n.lat,c.a.useState(!1)),a=Object(O.a)(r,2),o=a[0],u=a[1],s=c.a.useContext(Z),l=s.isExpanded,d=s.updateIsExpanded,b=s.updateCampingId;return Object(i.jsxs)(Pn,{"aria-label":"CampingMarker","aria-describedby":t,onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onClick:function(){return b(e),void(!1===l&&d(!0))},children:[o&&Object(i.jsx)(Tn,{id:t,role:"tooltip",children:t}),Object(i.jsx)(g.Icon,{icon:w.a,width:40,color:"#2f7510"})]})}function Nn(){var n=Object(s.a)(["\n  width: 100%;\n  height: 90vh;\n  position: relative;\n"]);return Nn=function(){return n},n}var Rn=l.b.main(Nn()),Un=c.a.memo((function(){var n=function(){var n=Object(u.useQuery)(m);return void 0===n.data?{campingItems:[]}:{campingItems:n.data.campings}}().campingItems.map((function(n){return Object(i.jsx)(qn,{id:n.id,name:n.name,lng:n.location.longitude,lat:n.location.latitude},n.id)}));return Object(i.jsx)(Rn,{"aria-label":"Map",children:Object(i.jsx)(h.a,{bootstrapURLKeys:{key:"AIzaSyD5yNw_1eBAooLt00Hk3NqgRndNlNCHSGA"},defaultCenter:{lat:48.7717719,lng:2.0907224},defaultZoom:8.5,children:n})})}));function Dn(){var n=Object(s.a)(["\n  display: flex\n"]);return Dn=function(){return n},n}function Wn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Wn=function(){return n},n}var Bn=l.b.div(Wn()),Gn=l.b.div(Dn());var Hn=function(){return Object(i.jsxs)(Bn,{role:"document",children:[Object(i.jsx)(f,{}),Object(i.jsx)(Gn,{children:Object(i.jsxs)(nn,{children:[Object(i.jsx)(zn,{}),Object(i.jsx)(Un,{})]})})]})},Vn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $n(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var Fn=t(33),Jn=t(53),Qn=t(50),Kn=[Qn.a.query("ListCampingItems",(function(n,e,t){return e(t.data({campings:[{id:"bccb351c-e447-4683-acf6-6c9be9a407cb",name:"CAMPING HUTTOPIA RAMBOUILLET",location:{latitude:48.630059,longitude:1.835694}},{id:"f8317142-7897-42bc-8f9c-33bb5cc68eec",name:"CARAVANING LE VAUVERT",location:{latitude:48.411278,longitude:2.143939}}]}))})),Qn.a.query("DetailCampingItem",(function(n,e,t){var i=n.variables.campingId;return e(t.data({camping:{id:i,name:"CAMPING HUTTOPIA RAMBOUILLET",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur accumsan ut eros non mollis. Suspendisse sem risus, dignissim eu velit id, pulvinar viverra libero. Praesent vulputate risus in urna blandit, eget feugiat augue porttitor. In lobortis, neque nec fringilla efficitur, enim orci efficitur turpis, fermentum mattis purus massa sit amet nibh. Phasellus iaculis commodo neque, et bibendum augue aliquam eget. Donec eu vestibulum leo. Donec massa ligula, viverra nec tempor eu, tristique nec arcu. Suspendisse et accumsan tellus, eget facilisis ligula. Morbi gravida eleifend orci, vel sagittis metus accumsan sollicitudin. Sed luctus congue ligula, eu blandit arcu tincidunt nec. Etiam vitae molestie elit.",image:"https://media.istockphoto.com/photos/camping-tent-in-a-camping-in-a-forest-by-the-river-picture-id911995140?k=6&m=911995140&s=612x612&w=0&h=U-yG-2eR8pOxLX_G8Eg9fDI1SOWYifxbb4BiiOhNNiI=",address:"Route du Ch\xe2teau d'eau",zipcode:78120,city:"RAMBOUILLET",longitude:48.630059,latitude:1.835694,nb_spots:20,nb_stars:3,phone_number:"168403928",email:"contact@le-camping-huttopia.com",website:"le-camping-huttopia.com"}}))}))],Xn=(Jn.a.apply(void 0,Object(Fn.a)(Kn)),new u.InMemoryCache),Yn=new u.HttpLink({uri:"".concat("https://camps-api.herokuapp.com","/graphql"),fetch:function(n){function e(){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}((function(){return fetch.apply(void 0,arguments)}))}),Zn=new u.ApolloClient({cache:Xn,link:Yn});o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(u.ApolloProvider,{client:Zn,children:Object(i.jsx)(Hn,{})})}),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Vn?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):$n(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$n(e,n)}))}}()},69:function(n,e,t){"use strict";t(70)},70:function(n,e){}},[[100,1,2]]]);
//# sourceMappingURL=main.f4c0e23a.chunk.js.map